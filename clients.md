Геннадий, по хелманну в рассылки по ошибкам добавь имя входящего файла и в тему и в текст письма.

Должно быть так:
Subject: Ошибка разбора файла IN-000012_28102021.xml  HELLMANN

При разборе файла IN-000012_28102021.xml произошла ошибка: Ошибка wms3_Check_OrderA: Дата заказа [28.10.2021 00:00] устарела!

Сейчас идет так:

При разборе файла 1793 произошла ошибка: Ошибка wms3_Check_OrderA: Дата заказа [28.10.2021 00:00] устарела!

HELLMANN 300237 GIMOKA

300122 ICD
300227 ICD XPE
300191 KZG КЗ ГУЛЬКЕВИЧСКИЙ а KZG
300181 TOSHIBA
300254 TDR ТОРГОВЫЙ ДОМ РУСЬljRPkBjcR6jD

Тайпит TMK

ВН 300261 – ООО «ТАЙПИТ-МК».
ВН 300262 - ООО «ФКМ»
ВН 300263 - ООО «Энтер Хоум»

ВН 300259 АРР АЛЬЯНС РЕГ.РИТЕЙЛЕР.
300259 АРР Альянс Рег. Ритейлер
p_err := 'отсутствует ВН';
p_err := 'неправильный ВН';
kb_pack.wms3_Check_OrderA
t.message_err_code = 'Некорректное вложение'
f01 -- p_sku_id
f02 -- p_qty
f05 -- p_category
f06 -- p_marker
f07 -- Срок годности
f08      -- Штрих код
f09 -- Тип
f10 -- Стратегия годности
f12 --p_weight
f15 -- Поставщик
f16 -- p_comments f16 -- Комментарий
f17 -- Рецепт
f18 -- p_marker2
f19 -p_shipping_address ??
f20 -- p_lot
f21 -- p_marker3
wms2_export_in_out

-Исправления заказа
найти по ИД найти заказ в ГС
Если в заказе ГС нет события 4110 то для всех случаев А,Б,В редактирования можно обновлять информацию в WMS посредством стандартной обработки заказа по шлюзу.
А. заголовок изменение планового времени п/о. 4101/4103 – фиксация планового времени
Б. заголовок изменение водителя/ТС

1. поиск привязки  ТС - нашли – поменяли ?, не нашли – добавили . Ищем по номеру машину и новому плановому времени. Спросить – Если к заказу подлежащему изменению машина ужен привязана и на этой машине едут так же другие заказы,  то поменяв номер и водителя мы поменяем так же и в других заказ – это правильно? Создаём новую запись.
В. редактирование табличной части заказа
 Г. отмена заказа
Фиксируем в ГС 1003 –заказ аннулирован с обязательным заполнением даты окончания события
Для солво запросить кусок кода у Олега который удаляет заказы или УП в случае ручной отмены для Хоффа.
Если присутствует 4110 – в работе. Мы можем обновить только плановое время обслуживания.
Обновляется аналогично п. А.  В солво мы должны выполнить прямой поиск в таблице incoming или order (п/о) и обновить поле плановое время и направить уведомление по почте менеджеру ЗМ что обновлено только плановое время. Обновление остальных параметров невозможно.

Дивизион Тайпит (номенклатура) кладем в поле «Сертификат»
 При передаче в таблице  kb_t_article это поле str_sert
Олег Соскин.

From: Олег Соскин [mailto:oleg.soskin@gksvt.ru]
Sent: Friday, July 30, 2021 3:34 PM
поле для уникального номера документа Тайпит
В форме это «Документ СОХ»
ID_DU  N            VARCHAR2(38)

Вт 12.10.2021 11:21
Геннадий, в модуле KB_SOST_KB_ISP есть процедура CRT_COEF

Sent: Wednesday, October 13, 2021 6:28 PM
To: 'Чежина Ольга'; 'Манн Геннадий'; 'Нечипоренко Константин Сергеевич'
Subject: RE: Конференция в 11:00 сегодня

Оля, ответ увидел.
Итак. Ели заявка имеет от текущего времени её обработки монитором до планового времени более 4-х часов, то плановое время Геннадий не меняет.
Если менее 4-х часов, то к текущему прибавляем 4 часа и округляемм вверх до ближайшего получаса – это и будет правильным плановым временем.
Всё правильно?
